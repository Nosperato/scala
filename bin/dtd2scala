#!/bin/sh

SOURCE="$0";
while [ -h "$SOURCE" ]; do
    SCRIPT="`basename $SOURCE`";
    LOOKUP="`ls -ld "$SOURCE"`";
    TARGET="`expr "$LOOKUP" : '.*-> \(.*\)$'`";
    if expr "${TARGET:-.}/" : '/.*/$' > /dev/null; then
        SOURCE="${TARGET:-.}";
    else
        SOURCE="`dirname "$SOURCE"`/${TARGET:-.}";
    fi;
done;
PREFIX="`dirname "$SOURCE"`/..";
PREFIX="`cd "$PREFIX"; pwd`";

SCALA_CLASSES="$PREFIX/classes";
LIBDIR="$PREFIX/lib";

JAVA_CLASSPATH="$LIBDIR/xercesImpl.jar:$SCALA_CLASSES"

exec java -classpath $JAVA_CLASSPATH scala.xml.dtd2scala $@
