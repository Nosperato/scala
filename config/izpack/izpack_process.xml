<!-- $Id$ -->

<processing>

  <logfiledir>$INSTALL_PATH/Uninstaller</logfiledir>

  <!-- unix jobs -->

  <job name="Create symbolic links for Scala commands">
    <description>Create symbolic links</description>
    <os family="unix"/>
    <executefile name="$INSTALL_PATH/bin/.nsc_symlink">
      <arg>../share/scala/bin/.nsc_wrapper</arg>
    </executefile>
    <executefile name="$INSTALL_PATH/share/scala/bin/.nsc_symlink">
      <arg>.nsc_wrapper</arg>
    </executefile>
  </job>
  <job name="Remote helper script">
    <description>Clean up</description>
    <os family="unix"/>
    <executefile name="/bin/rm">
      <arg>-f</arg>
      <arg>$INSTALL_PATH/bin/.nsc_symlink</arg>
      <arg>$INSTALL_PATH/share/scala/bin/.nsc_symlink</arg>
    </executefile>
  </job>

  <!-- windows jobs -->

  <job name="Update the Windows registry">
    <description>Add the SCALA_HOME variable to the user environment</description>
    <os family="windows"/>
    <executefile name="$JAVA_HOME\bin\java">
      <arg>-Djava.library.path=$INSTALL_PATH\Uninstaller</arg>
      <arg>-cp</arg>
      <arg>$INSTALL_PATH\Uninstaller\registry.jar;$INSTALL_PATH\Uninstaller\setenv.jar</arg>
      <arg>Main</arg>
      <arg>@VERSION@</arg>
      <arg>$INSTALL_PATH</arg>
    </executefile>
  </job>

</processing>
